"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.IxFromHex = void 0;
const web3_js_1 = require("@solana/web3.js");
const bs58_1 = __importDefault(require("bs58"));
// Convert object to TransactionInstruction
function IxFromHex(pullIx) {
    const keys = pullIx.keys.map((key) => ({
        ...key,
        pubkey: new web3_js_1.PublicKey(Buffer.from(key.pubkey, "hex")),
    }));
    const programId = new web3_js_1.PublicKey(bs58_1.default.encode(Buffer.from(pullIx.programId, "hex")));
    const data = Buffer.from(pullIx.data, "hex");
    return new web3_js_1.TransactionInstruction({
        keys,
        programId,
        data,
    });
}
exports.IxFromHex = IxFromHex;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5zdHJ1Y3Rpb25zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3V0aWxzL2luc3RydWN0aW9ucy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSw2Q0FBb0U7QUFDcEUsZ0RBQXdCO0FBRXhCLDJDQUEyQztBQUMzQyxTQUFnQixTQUFTLENBQUMsTUFJekI7SUFDQyxNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNyQyxHQUFHLEdBQUc7UUFDTixNQUFNLEVBQUUsSUFBSSxtQkFBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztLQUN0RCxDQUFDLENBQUMsQ0FBQztJQUNKLE1BQU0sU0FBUyxHQUFHLElBQUksbUJBQVMsQ0FDN0IsY0FBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FDbEQsQ0FBQztJQUNGLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUM3QyxPQUFPLElBQUksZ0NBQXNCLENBQUM7UUFDaEMsSUFBSTtRQUNKLFNBQVM7UUFDVCxJQUFJO0tBQ0wsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQWxCRCw4QkFrQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQdWJsaWNLZXksIFRyYW5zYWN0aW9uSW5zdHJ1Y3Rpb24gfSBmcm9tIFwiQHNvbGFuYS93ZWIzLmpzXCI7XG5pbXBvcnQgYnM1OCBmcm9tIFwiYnM1OFwiO1xuXG4vLyBDb252ZXJ0IG9iamVjdCB0byBUcmFuc2FjdGlvbkluc3RydWN0aW9uXG5leHBvcnQgZnVuY3Rpb24gSXhGcm9tSGV4KHB1bGxJeDoge1xuICBrZXlzOiB7IHB1YmtleTogc3RyaW5nOyBpc1NpZ25lcjogYm9vbGVhbjsgaXNXcml0YWJsZTogYm9vbGVhbiB9W107XG4gIHByb2dyYW1JZDogc3RyaW5nO1xuICBkYXRhOiBzdHJpbmc7XG59KTogVHJhbnNhY3Rpb25JbnN0cnVjdGlvbiB7XG4gIGNvbnN0IGtleXMgPSBwdWxsSXgua2V5cy5tYXAoKGtleSkgPT4gKHtcbiAgICAuLi5rZXksXG4gICAgcHVia2V5OiBuZXcgUHVibGljS2V5KEJ1ZmZlci5mcm9tKGtleS5wdWJrZXksIFwiaGV4XCIpKSxcbiAgfSkpO1xuICBjb25zdCBwcm9ncmFtSWQgPSBuZXcgUHVibGljS2V5KFxuICAgIGJzNTguZW5jb2RlKEJ1ZmZlci5mcm9tKHB1bGxJeC5wcm9ncmFtSWQsIFwiaGV4XCIpKVxuICApO1xuICBjb25zdCBkYXRhID0gQnVmZmVyLmZyb20ocHVsbEl4LmRhdGEsIFwiaGV4XCIpO1xuICByZXR1cm4gbmV3IFRyYW5zYWN0aW9uSW5zdHJ1Y3Rpb24oe1xuICAgIGtleXMsXG4gICAgcHJvZ3JhbUlkLFxuICAgIGRhdGEsXG4gIH0pO1xufVxuIl19